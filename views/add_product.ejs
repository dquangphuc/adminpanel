<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thêm Sản Phẩm Mới</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Thêm Sản Phẩm</h2>
                    </div>
                    <div class="card-body">
                        <% if (locals.error) { %>
                            <div class="alert alert-danger"><%= error %></div>
                        <% } %>

                        <form action="/add_product" method="POST">
                            <div class="mb-3">
                                <label for="productid" class="form-label">Mã Sản Phẩm</label>
                                <input type="text" class="form-control" id="productid" name="productid" 
                                       placeholder="Nhập mã sản phẩm" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="name" class="form-label">Tên Sản Phẩm</label>
                                <input type="text" class="form-control" id="name" name="name" 
                                       placeholder="Nhập tên sản phẩm" required>
                            </div>

                            <div class="mb-3">
                                <label for="description" class="form-label">Mô Tả Sản Phẩm</label>
                                <input type="text" class="form-control" id="description" name="description" 
                                       placeholder="Nhập mô tả sản phẩm" required>
                            </div>

                            <div class="mb-3">
                                <label for="price" class="form-label">Giá</label>
                                <input type="number" class="form-control" id="price" name="price" 
                                       placeholder="Nhập giá" required>
                            </div>

                            <div class="mb-3">
                                <label for="image" class="form-label">Hình ảnh</label>
                                <input type="text" class="form-control" id="image" name="image" 
                                       placeholder="Nhập URL hình ảnh" required>
                            </div>

                            <div class="mb-3">
                                <label for="price" class="form-label">Số lượng</label>
                                <input type="number" class="form-control" id="price" name="price" 
                                       placeholder="Nhập số lượng" required>
                            </div>

                            <div class="mb-3">
                                <label for="cateid" class="form-label">Mã danh mục</label>
                                <input type="text" class="form-control" id="cateid" name="cateid" 
                                       placeholder="Nhập mã danh mục" required>
                            </div>
                            
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary">Thêm Sản Phẩm</button>
                                <a href="/products" class="btn btn-secondary">Hủy</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Validation client-side
        document.querySelector('form').addEventListener('submit', function(e) {
            const productid = document.getElementById('productid').value.trim();
            const name = document.getElementById('name').value.trim();
            const price = document.getElementById('price').value.trim();
            const description = document.getElementById('description').value.trim();
            const image = document.getElementById('image').value.trim();
            const quantity = document.getElementById('quantity').value.trim();
            const cateid = document.getElementById('cateid').value.trim();

            if (productid === '' || name === '' || price === '' || description === '' || image === '' || quantity === '' || cateid === '') {
                e.preventDefault();
                alert('Vui lòng điền đầy đủ thông tin');
                return;
            }

            // Kiểm tra giá
            if (isNaN(price) || price <= 0) {
                e.preventDefault();
                alert('Giá phải là một số dương');
                return;
            }
        });
    </script>
</body>
</html>